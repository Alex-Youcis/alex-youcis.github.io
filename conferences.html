<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Conferences — Alex Youcis</title>

  <!-- Fonts & Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" />

  <style>
    :root{
      --primary-color:#1D1E18;
      --secondary-color:#C5C3C6;
      --background-color:#DCDCDD;
      --text-color:#1D1E18;
      --button-color:#BF0603;
      --card:#fff;
      --border:#e1e1e6;

      --content-max:1200px;
      --hero-height:260px;
      --ring-band: 8px;      /* ring thickness used for filter pill */
      --ring-radius: 999px;  /* rounded pill */
    }

    *,:before,:after{box-sizing:border-box}
    body{font-family:'Open Sans',sans-serif;background:var(--background-color);color:var(--text-color);margin:0}

    /* Header/nav (same as other pages) */
    header{background:var(--primary-color);position:sticky;top:0;z-index:1000;box-shadow:0 2px 10px rgba(0,0,0,.08)}
    .navbar{display:flex;justify-content:flex-end;align-items:center;padding:0 1em;height:60px}
    .nav-links{display:flex}
    .nav-links a{color:#fff;text-decoration:none;margin:0 1em;position:relative;transition:color .3s}
    .nav-links a::after{content:'';position:absolute;width:0;height:2px;background:var(--secondary-color);left:50%;bottom:-5px;transition:all .3s}
    .nav-links a:hover{color:var(--secondary-color)}
    .nav-links a:hover::after{left:0;width:100%}
    .nav-links a[aria-current="page"]{color:#fff}
    .nav-mobile{display:none}
    @media (max-width:768px){
      .nav-links{display:none;flex-direction:column;background:var(--primary-color);position:absolute;top:60px;right:0;width:220px}
      .nav-links a{margin:0;padding:1em;text-align:right;border-bottom:1px solid var(--secondary-color)}
      .nav-mobile{display:flex;align-items:center}
      .nav-text{color:#fff;margin-right:.5em}
      .icon{color:#fff;font-size:24px;cursor:pointer}
      .navbar.responsive .nav-links{display:flex}
      .navbar.responsive .nav-mobile .nav-text{display:none}
    }

    main{padding:2em 1.25em 3em;max-width:var(--content-max);margin:0 auto;position:relative}

    /* HERO (triplicate blackboard, low opacity) */
    .hero{
      position:relative;overflow:hidden;background:var(--card);border-radius:14px;
      padding:1.25em 1.5em;
      box-shadow:0 2px 10px rgba(0,0,0,.05);
      display:grid;gap:.6em;margin-bottom:1.2em;align-items:center;
      min-height:var(--hero-height);
      border:2px solid #000;
    }
    .hero::before{
      content:""; position:absolute; inset:0; pointer-events:none; opacity:.18;
      background-image:
        url('https://alex-youcis.github.io/blackboard.png'),
        url('https://alex-youcis.github.io/blackboard.png'),
        url('https://alex-youcis.github.io/blackboard.png');
      background-repeat:no-repeat,no-repeat,no-repeat;
      background-position:16% center, 50% center, 84% center;
      /* Spacing/sizing tuned to avoid overlap (the “good” sizing) */
      background-size:auto 80%, auto 80%, auto 80%;
    }
    @media (max-width:600px){
      .hero{ padding:1em 1em 1.1em; }
      .hero::before{ background-size:auto 70%, auto 70%, auto 70%; }
    }
    .hero h1{
      margin:.1em 0 .1em;
      font-size:clamp(1.6rem,3.2vw,2.1rem);
      position:relative;z-index:1;justify-self:center;text-align:center;
    }

    /* Section titles with subtle bar (same style as notes/research) */
    h2.section-title{
      margin:1.2em 0 .9em;font-size:1.35rem;line-height:1.2;font-weight:800;letter-spacing:.2px;position:relative;display:inline-block;padding-bottom:.3em
    }
    h2.section-title::after{
      content:'';position:absolute;left:0;bottom:-6px;width:160px;height:6px;border-radius:999px;background:linear-gradient(90deg,#000 0%, var(--button-color) 100%);opacity:.95
    }

    /* Filter block (collapsible pill that docks on top of a white bubble) */
    .filters{margin-bottom:1.1em;border:none;padding:0;background:transparent}
    .filters > summary{list-style:none;margin:0;cursor:pointer}
    .filters > summary::-webkit-details-marker{display:none}

    /* Pill with black/red ring (same aesthetic as research page) */
    .term-btn{
      border:0;background:transparent;padding:0;cursor:pointer;line-height:0
    }
    .term-btn__outer{display:inline-block;background:#000;padding:var(--ring-band);border-radius:var(--ring-radius);width:100%}
    .term-btn__middle{display:inline-block;background:var(--button-color);padding:var(--ring-band);border-radius:calc(var(--ring-radius) - var(--ring-band));width:100%}
    .term-btn__inner{
      display:inline-flex;align-items:center;justify-content:flex-start;
      gap:.5em;background:#fff;border-radius:calc(var(--ring-radius) - (2*var(--ring-band)));
      width:100%;height:58px;padding:0 16px
    }
    .term-btn__label{font:700 1.05rem/1.1 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:#000}
    .term-btn__chevron{margin-left:auto;width:22px;height:22px;transition:transform 160ms ease}

    /* When open, make summary occupy full width & flatten bottom radii to dock */
    details.filters[open] > summary.filter-controls{display:block;width:100%}
    details.filters[open] .term-btn__outer,
    details.filters[open] .term-btn__middle,
    details.filters[open] .term-btn__inner{
      border-bottom-left-radius:0 !important;border-bottom-right-radius:0 !important;
    }
    details.filters[open] .term-btn__chevron{transform:rotate(180deg)}

    /* The white bubble underneath the pill */
    .filters-panel{
      overflow:hidden; max-height:0; transition:max-height 260ms ease;
      background:#fff;border:1px solid var(--border);border-top:none;border-radius:0 0 14px 14px;
      padding: var(--panel-pad, 0); /* closed => 0, open => real padding set below */
      box-shadow:0 2px 10px rgba(0,0,0,.05)
    }
    details.filters[open] .filters-panel{ --panel-pad: 16px; }

    .filters-grid{display:flex;flex-wrap:wrap;gap:.6em 1em;align-items:center}
    .filters-grid input[type="search"]{
      flex:1 1 340px;min-width:260px;height:44px;border:1px solid #cfd3d6;border-radius:10px;padding:0 .9em;font-size:1rem
    }
    .btn-clear{
      height:44px;border:2px solid #000;background:#fff;border-radius:12px;padding:.3em .9em;font-weight:800
    }

    /* Topic chips */
    .chip{display:inline-flex;align-items:center;border:2px solid #000;border-radius:999px;padding:.35em .9em;font-weight:800;background:#fff;cursor:pointer}
    .chip.active{background:var(--button-color);color:#fff;border-color:#000}

    /* Conference card bubbles */
    .conf-grid{display:grid;grid-template-columns:1fr 1fr;gap:1em}
    @media (max-width:900px){ .conf-grid{grid-template-columns:1fr} }
    .conf-card{
      position:relative;background:#fff;border:1px solid var(--border);border-radius:14px;padding:14px 16px 12px;
      box-shadow:0 2px 8px rgba(0,0,0,.05)
    }
    .conf-card h3{margin:.1em 0 .35em;font-size:1.12rem}
    .conf-meta{font-size:.95rem;color:#333;margin:.15em 0 .5em}
    .conf-card a{color:#0f62fe;text-decoration:none}
    .conf-card a:hover{text-decoration:underline}
    .topics{display:flex;flex-wrap:wrap;gap:.4em;margin-top:.6em}
    .badge{font-weight:700;border:1px solid #cfd3d6;border-radius:999px;padding:.2em .55em;background:#f8f8fb;font-size:.88rem}
    .attend-star{position:absolute;right:10px;top:8px;color:var(--button-color);font-weight:800;font-size:1.4rem;line-height:1}

    /* Legend in the right margin; hides on narrow screens */
    .margin-legend{
      position:fixed; top:150px; left: calc(50% + (var(--content-max)/2) + 20px);
      background:rgba(255,255,255,.96); border:1px solid var(--border); border-radius:10px;
      padding:.4em .7em; font-weight:800; color:#222; box-shadow:0 2px 8px rgba(0,0,0,.08); z-index:10
    }
    .margin-legend .star{color:var(--button-color); font-weight:900; margin-right:.25em}
    @media (max-width:1350px){ .margin-legend{display:none} }

    footer{background:var(--primary-color);color:#fff;padding:1em;text-align:center}
  </style>
</head>
<body>
  <header>
    <nav class="navbar" id="myNavbar">
      <div class="nav-mobile">
        <span class="nav-text">Navigation</span>
        <span class="icon" role="button" aria-label="Open menu" aria-expanded="false" onclick="toggleMenu()">
          <i class="fa fa-bars"></i>
        </span>
      </div>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="research.html">Publications and preprints</a>
        <a href="notes.html">Expository material</a>
        <a href="friends.html">Friends</a>
        <a href="nt-seminar.html">U of T number theory seminar</a>
        <a href="MAT138.html">MAT138</a>
        <a href="#" aria-current="page">Conferences</a>
      </div>
    </nav>
  </header>

  <main>
    <!-- legend in the outer margin -->
    <aside class="margin-legend" aria-hidden="true"><span class="star">*</span>= I’m likely to attend</aside>

    <!-- HERO -->
    <section class="hero">
      <h1>Conferences</h1>
    </section>

    <!-- FILTERS (topic search + chips; collapsible like research page) -->
    <details class="filters" id="filters">
      <summary class="filter-controls">
        <button class="term-btn" id="filter-pill" type="button" aria-expanded="false">
          <span class="term-btn__outer"><span class="term-btn__middle"><span class="term-btn__inner">
            <span class="term-btn__label">Filter <span style="font-weight:400">by topic</span></span>
            <svg class="term-btn__chevron" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M6 9l6 6 6-6" fill="none" stroke="currentColor" stroke-width="2"/>
            </svg>
          </span></span></span>
        </button>
      </summary>

      <div class="filters-panel" id="filters-panel" role="region" aria-label="Filter by topic">
        <div class="filters-grid">
          <input id="search-input" type="search" placeholder="Search topics… (e.g., Shimura)" />
          <button class="btn-clear" id="btn-clear" type="button">Clear</button>

          <!-- Visible topic chips -->
          <div class="chips-row" style="flex:1 1 100%; display:flex; flex-wrap:wrap; gap:.6em;">
            <span class="chip" data-topic="number theory">Number theory</span>
            <span class="chip" data-topic="algebraic geometry">Algebraic geometry</span>
            <span class="chip" data-topic="p-adic hodge theory">p-adic Hodge theory</span>
            <span class="chip" data-topic="shimura varieties">Shimura varieties</span>
            <span class="chip" data-topic="langlands">Langlands</span>
          </div>
        </div>
      </div>
    </details>

    <!-- Co-organizing -->
    <h2 class="section-title">Conferences I’m co-organizing</h2>
    <section class="conf-grid" id="coorg-grid">
      <!-- AIM workshop -->
      <article class="conf-card" data-topics="shimura varieties, langlands, number theory">
        <h3><a href="https://aimath.org/workshops/upcoming/canonicalshimura/" target="_blank" rel="noopener">Canonical Integral Models of Shimura Varieties (AIM Workshop)</a></h3>
        <div class="conf-meta">AIM · San Jose, CA · Dates TBA</div>
        <p>Workshop focused on canonical integral models and related questions in the theory of Shimura varieties.</p>
        <div class="topics">
          <span class="badge">Shimura varieties</span>
          <span class="badge">Langlands</span>
          <span class="badge">Number theory</span>
        </div>
      </article>

      <!-- AMS Spring Sectional special session -->
      <article class="conf-card" data-topics="shimura varieties, algebraic geometry, number theory">
        <h3><a href="bc-sectional.html">AMS Spring Sectional — Special Session on Shimura Varieties &amp; Arithmetic</a></h3>
        <div class="conf-meta">Boston College · Mar 28–29, 2026</div>
        <p>Special session at the AMS Spring Sectional (BC) on Shimura varieties and arithmetic. Speakers TBA.</p>
        <div class="topics">
          <span class="badge">Shimura varieties</span>
          <span class="badge">Algebraic geometry</span>
          <span class="badge">Number theory</span>
        </div>
      </article>
    </section>

    <!-- Other upcoming conferences -->
    <h2 class="section-title">Other upcoming conferences</h2>
    <section class="conf-grid" id="upcoming-grid">
      <!-- Example items (edit/replace freely) -->
      <article class="conf-card" data-start="2026-02-10" data-end="2026-02-14" data-topics="p-adic hodge theory, number theory, algebraic geometry" data-attend="likely">
        <span class="attend-star" title="Likely attending">*</span>
        <h3>p-adic Hodge Theory Week</h3>
        <div class="conf-meta">Somewhere · Feb 10–14, 2026</div>
        <p>A focused program on recent developments in p-adic Hodge theory.</p>
        <div class="topics">
          <span class="badge">p-adic Hodge theory</span>
          <span class="badge">Number theory</span>
          <span class="badge">Algebraic geometry</span>
        </div>
      </article>

      <article class="conf-card" data-start="2026-04-18" data-end="2026-04-22" data-topics="shimura varieties, langlands, number theory">
        <h3>Workshop on Shimura Varieties and the Langlands Program</h3>
        <div class="conf-meta">Somewhere else · Apr 18–22, 2026</div>
        <p>Connections between Shimura varieties and the (arithmetic) Langlands program.</p>
        <div class="topics">
          <span class="badge">Shimura varieties</span>
          <span class="badge">Langlands</span>
          <span class="badge">Number theory</span>
        </div>
      </article>

      <article class="conf-card" data-start="2026-06-05" data-end="2026-06-09" data-topics="algebraic geometry, number theory">
        <h3>Summer School in Modern Algebraic Geometry</h3>
        <div class="conf-meta">Nice place · Jun 5–9, 2026</div>
        <p>Introductory and advanced mini-courses in modern AG with arithmetic flavors.</p>
        <div class="topics">
          <span class="badge">Algebraic geometry</span>
          <span class="badge">Number theory</span>
        </div>
      </article>
    </section>

    <!-- Past conferences (auto-filled) -->
    <h2 class="section-title">Past conferences</h2>
    <section class="conf-grid" id="past-grid">
      <!-- Auto-moved items will appear here -->
      <article class="conf-card" data-start="2025-05-18" data-end="2025-05-22" data-topics="number theory, langlands">
        <h3>Automorphic Forms Spring School</h3>
        <div class="conf-meta">Somewhere · May 18–22, 2025</div>
        <p>Introductory school on automorphic forms and representations.</p>
        <div class="topics">
          <span class="badge">Number theory</span>
          <span class="badge">Langlands</span>
        </div>
      </article>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 Alex Youcis. All rights reserved.</p>
  </footer>

  <script>
    function toggleMenu(){
      const nav = document.getElementById('myNavbar');
      nav.classList.toggle('responsive');
      const btn = nav.querySelector('.nav-mobile .icon');
      const expanded = nav.classList.contains('responsive');
      if(btn) btn.setAttribute('aria-expanded', expanded ? 'true' : 'false');
    }

    // ========= Filters: smooth open, full-width pill, topic search/chips =========
    (function(){
      const det   = document.getElementById('filters');
      const pill  = document.getElementById('filter-pill');
      const panel = document.getElementById('filters-panel');

      // Clicking the pill toggles its parent <details>
      pill.addEventListener('click', (e)=>{
        e.preventDefault(); e.stopPropagation();
        det.open = !det.open;
        reflect();
      });

      function reflect(){
        pill.setAttribute('aria-expanded', det.open ? 'true' : 'false');
      }

      function openPanelSmooth(){
        // Let layout fully settle before measuring to avoid "first-open" truncation
        panel.style.maxHeight = 'none';
        requestAnimationFrame(()=>{ requestAnimationFrame(()=>{
          panel.style.maxHeight = panel.scrollHeight + 'px';
        });});
      }
      function closePanelSmooth(){ panel.style.maxHeight = '0px'; }

      det.addEventListener('toggle', ()=>{
        reflect();
        if(det.open) openPanelSmooth(); else closePanelSmooth();
      });

      panel.addEventListener('transitionend', (e)=>{
        if(e.propertyName === 'max-height' && det.open){
          panel.style.maxHeight = 'none'; // unlock height so contents can grow/shrink
        }
      });

      window.addEventListener('load', ()=>{
        reflect();
        if(det.open) openPanelSmooth(); else closePanelSmooth();
      });
      window.addEventListener('resize', ()=>{
        if(det.open){
          panel.style.maxHeight = 'none';
          requestAnimationFrame(()=>{ panel.style.maxHeight = panel.scrollHeight + 'px'; });
        }
      });
    })();

    // ========= Topic filter logic (search + chips) =========
    (function(){
      const chips = Array.from(document.querySelectorAll('.chip'));
      const search = document.getElementById('search-input');
      const clearBtn = document.getElementById('btn-clear');

      // Grids we filter (do NOT filter the co-organizing section)
      const grids = [document.getElementById('upcoming-grid'), document.getElementById('past-grid')];

      function activeTopics(){
        const chipTopics = chips.filter(c=>c.classList.contains('active')).map(c=>c.dataset.topic.trim().toLowerCase());
        const text = (search.value || '').toLowerCase().trim();
        const fromSearch = text ? text.split(/[,\s]+/).filter(Boolean) : [];
        return [...new Set([...chipTopics, ...fromSearch])]; // union
      }

      function cardMatches(card, topics){
        if(!topics.length) return true;
        const tags = (card.dataset.topics || '').toLowerCase();
        return topics.some(t => tags.includes(t));
      }

      function applyFilter(){
        const topics = activeTopics();
        grids.forEach(grid=>{
          grid.querySelectorAll('.conf-card').forEach(card=>{
            card.style.display = cardMatches(card, topics) ? '' : 'none';
          });
        });
      }

      chips.forEach(chip=>{
        chip.addEventListener('click', ()=>{ chip.classList.toggle('active'); applyFilter(); });
      });
      search.addEventListener('input', applyFilter);
      clearBtn.addEventListener('click', ()=>{
        chips.forEach(c=>c.classList.remove('active'));
        search.value = ''; applyFilter();
      });
      applyFilter();
    })();

    // ========= Auto-move "other conferences" between upcoming and past by date =========
    (function(){
      const upcomingGrid = document.getElementById('upcoming-grid');
      const pastGrid = document.getElementById('past-grid');

      function moveByDate(){
        const today = new Date();
        // consider only cards currently in upcomingGrid
        Array.from(upcomingGrid.querySelectorAll('.conf-card')).forEach(card=>{
          const end = card.dataset.end || card.dataset.start;
          if(!end) return;
          const endDate = new Date(end + 'T23:59:59');
          if(!isNaN(endDate) && endDate < today){
            pastGrid.prepend(card); // move to Past (newest first)
          }
        });
      }
      window.addEventListener('load', moveByDate);
    })();
  </script>
</body>
</html>
